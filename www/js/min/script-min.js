"use strict";angular.module("seetodo",["ionic","ionic-material","ksSwiper","LocalForageModule"]).run(["$ionicPlatform",function(t){t.ready(function(){window.cordova&&window.cordova.plugins&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0)),window.StatusBar&&StatusBar.styleDefault()})}]).config(["$localForageProvider","$stateProvider","$urlRouterProvider",function(t,e,o){t.config({driver:"localStorageWrapper",name:"SeeTodo",version:1,storeName:"todos_list",description:"todos list for SeeTodo app"}),e.state("app",{url:"/app","abstract":!0,templateUrl:"templates/menu.html",controller:"AppCtrl"}).state("app.main",{url:"/main",views:{menuContent:{templateUrl:"templates/main.html",controller:"MainCtrl"}}}),o.otherwise("/app/main")}]),angular.module("seetodo").controller("AppCtrl",["ionicMaterialInk",function(t){t.displayEffect()}]).controller("NavCtrl",["$scope","$ionicSideMenuDelegate",function(t,e){t.showMenu=function(){e.toggleLeft()}}]).controller("MainCtrl",["ionicMaterialInk","$ionicPopup","$scope","storage",function(t,e,o,n){var i=document.getElementById("fab_seemy");i.addEventListener("click",function(){location.href="https://twitter.com/ZachFitzgerald"});var a=document.getElementById("fab_git_hub");a.addEventListener("click",function(){location.href="https://github.com/Jbz797/SeeTodo"}),o.newTodo={},n.get_database(),o.todos=n.get_todos(),o.addTodo=function(){var t=o.newTodo;t.title.length>0&&n.add(t).then(function(t){o.newTodo={}})},o.switchTodo=function(t){t.title.length>0&&n["switch"](t)},o.deleteTodo=function(t){t.title.length>0&&n["delete"](t)},o.showPopup=function(t){e.show({templateUrl:"../templates/popup_edit.html/"+t.title,title:"Modifier la tâche",cssClass:"popup_edit",buttons:[{text:"Annuler"},{text:"Sauvegarder",type:"button-balanced",onTap:function(t){return o.data.wifi?o.data.wifi:void t.preventDefault()}}]})}}]).controller("popup_editCtrl",["ionicMaterialInk","$ionicPopup","$scope","storage",function(t,e,o,n){o.newTodo={},n.get_database(),o.todos=n.get_todos(),o.addTodo=function(){var t=o.newTodo;t.title.length>0&&n.add(t).then(function(t){o.newTodo={}})},o.switchTodo=function(t){t.title.length>0&&n["switch"](t)},o.deleteTodo=function(t){t.title.length>0&&n["delete"](t)},o.showPopup=function(){e.show({templateUrl:"../templates/popup_edit.html",title:"Modifier la tâche",cssClass:"popup_edit",buttons:[{text:"Annuler"},{text:"Sauvegarder",type:"button-balanced",onTap:function(t){return o.data.wifi?o.data.wifi:void t.preventDefault()}}]})}}]);var todos=[];angular.module("seetodo").factory("storage",["$localForage","$q",function(t,e){return{add:function(o){var n=e.defer(),i={activate:!0,"delete":!1,title:o.title};return n.resolve(t.setItem(o.title,i).then(function(){console.log('SeeTodo -> Tâche "'+o.title+'" ajoutée en base'),todos.push(i)})),n.promise},"delete":function(o){var n=e.defer(),i={activate:o.activate,"delete":!0,title:o.title};return n.resolve(t.setItem(o.title,i).then(function(){console.log('SeeTodo -> Tâche "'+o.title+'" archivée');for(var t in todos)todos[t].title===o.title&&(todos[t]["delete"]=!0)})),n.promise},get_database:function(){var o=e.defer();return o.resolve(t.iterate(function(t,e){angular.isString(t.title)&&todos.push(t)}).then(function(t){console.log("SeeTodo -> Base de donnée chargée correctement")})),o.promise},get_todos:function(){return todos},"switch":function(o){var n=e.defer(),i={activate:!o.activate,"delete":o["delete"],title:o.title};return n.resolve(t.setItem(o.title,i).then(function(){console.log('SeeTodo -> Tâche "'+o.title+'" inversée');for(var t in todos)todos[t].title===o.title&&(todos[t].activate=!o.activate)})),n.promise}}}]);