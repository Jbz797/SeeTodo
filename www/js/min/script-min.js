"use strict";angular.module("seetodo",["ionic","ionic-material","ksSwiper","LocalForageModule"]).run(["$ionicPlatform",function(e){e.ready(function(){window.cordova&&window.cordova.plugins&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0)),window.StatusBar&&StatusBar.styleDefault()})}]).config(["$localForageProvider","$stateProvider","$urlRouterProvider",function(e,o,t){e.config({driver:"localStorageWrapper",name:"SeeTodo",version:1,storeName:"todos_list",description:"todos list for SeeTodo app"}),o.state("app",{url:"/app","abstract":!0,templateUrl:"templates/menu.html",controller:"AppCtrl"}).state("app.main",{url:"/main",views:{menuContent:{templateUrl:"templates/main.html",controller:"MainCtrl"}}}),t.otherwise("/app/main")}]),angular.module("seetodo").controller("AppCtrl",["ionicMaterialInk",function(e){e.displayEffect()}]).controller("NavCtrl",["$scope","$ionicSideMenuDelegate",function(e,o){e.showMenu=function(){o.toggleLeft()}}]).controller("MainCtrl",["ionicMaterialInk","$scope","storage",function(e,o,t){var n=document.getElementById("fab_seemy");n.addEventListener("click",function(){location.href="https://twitter.com/ZachFitzgerald"});var r=document.getElementById("fab_git_hub");r.addEventListener("click",function(){location.href="https://github.com/Jbz797/SeeTodo"}),o.newTodo={},t.get_database(),o.todos=t.get_todos(),o.addTodo=function(){var e=o.newTodo;e.title.length>0&&t.add(e).then(function(e){o.newTodo={},console.log(o.todos)})}}]);var todos=[];angular.module("seetodo").factory("storage",["$localForage","$q",function(e,o){return{add:function(t){var n=o.defer();return n.resolve(e.setItem(t.title,t.title).then(function(){e.getItem(t.title).then(function(e){"test"===e&&(console.log('SeeTodo -> Tâche "'+t.title+'" ajoutée en base'),todos.push(t))})})),n.promise},get_database:function(){var t=o.defer();return t.resolve(e.iterate(function(e,o){angular.isString(e)&&(console.log(e),todos.push(e))}).then(function(e){console.log("SeeTodo -> Base de donnée chargée correctement")})),t.promise},get_todos:function(){return todos}}}]);